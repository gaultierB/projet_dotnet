@page "/post"

@inject HttpClient Http
@using Newtonsoft.Json


<h1>Add Players</h1>

<table class="table">
    <thead>
        <tr>
            @* <th>Id</th> *@
            <th>Name</th>
            <th>Firstname</th>
            <th>Numero</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <label for="Name" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="Name">
                </div>
            </td>
            <td>
                <label for="Firstname" class="col-sm-2 control-label">Firstname</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="Firstname">
                </div>
            </td>
            <td>
                <label for="Number" class="col-sm-2 control-label">Number</label>
                <div class="col-sm-10">
                    <input type="int" class="form-control" name="Number">
                </div>
            </td>
        </tr>
    </tbody>
</table>
<button class="btn btn-primary" @onclick="PostPlayer">Add Player</button>

@code {
    Player player = new Player("hola","hola", 9);
    protected async Task PostPlayer()
    {
        using var response = await Http.PostAsJsonAsync("https://localhost:5001/Player/Getbdd", player);
        Console.WriteLine(response.ToString());
    }
    public class Player
    {
        public int id { get; set;}

        public string name { get; set; }

        public string firstname { get; set; }

        public int number { get; set; }
        public Player(string name, string firstname, int number)
        {
            this.name = name;
            this.firstname = firstname;
            this.number = number;
        }
    }
}
